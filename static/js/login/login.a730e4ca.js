webpackJsonp([2],{"+uzd":function(e,n){},wMPN:function(e,n,t){"use strict";function o(e){m||t("+uzd")}Object.defineProperty(n,"__esModule",{value:!0});var r=t("NtK6"),s={name:"login",data:function(){return{comfirm:!1,formInline:{name:"",password:""},ruleInline:{name:[{required:!0,message:"请填写用户名",trigger:"blur"}],password:[{required:!0,message:"请填写密码",trigger:"blur"},{type:"string",min:2,message:"密码长度不能小于6位",trigger:"blur"}]}}},methods:{handleSubmit:function(e){var n=this;this.$refs[e].validate(function(e){if(e){var t={name:n.formInline.name,password:n.formInline.password};n.$http.post("http://localhost:3000/users/data/checklogin",t).then(function(e){console.log(e),""!==e.data[0].name?(n.$Message.success("登录成功!"),Object(r.setCookie)("name",t.name,10),setTimeout(function(){window.location.href="../home/home.html"},200)):n.$Message.success("用户名或密码错误!")}),console.log(t)}else n.$Message.error("表单验证失败!")})},checkCookie:function(e){var n=Object(r.getCookie)(e);null!==n&&""!==n&&(this.comfirm=!0)},ok:function(){window.location.href="../home/home.html"},cancel:function(){this.$Message.info("取消")}},created:function(){this.checkCookie("name")}},a=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"login"},[t("div",{staticStyle:{position:"absolute",left:"50%",top:"50%",transform:"translateX(-50%) translateY(-100%)",border:"1px solid #ccc","border-radius":"10px",padding:"40px"}},[t("Form",{ref:"formInline",attrs:{model:e.formInline,rules:e.ruleInline,inline:""}},[t("h1",[e._v("管理系统登陆")]),e._v(" "),t("FormItem",{attrs:{prop:"user"}},[t("Input",{attrs:{type:"text",placeholder:"Username"},model:{value:e.formInline.name,callback:function(n){e.$set(e.formInline,"name",n)},expression:"formInline.name"}},[t("Icon",{attrs:{slot:"prepend",type:"ios-person-outline"},slot:"prepend"})],1)],1),e._v(" "),t("FormItem",{attrs:{prop:"password"}},[t("Input",{attrs:{type:"password",placeholder:"Password"},model:{value:e.formInline.password,callback:function(n){e.$set(e.formInline,"password",n)},expression:"formInline.password"}},[t("Icon",{attrs:{slot:"prepend",type:"ios-locked-outline"},slot:"prepend"})],1)],1),e._v(" "),t("br"),e._v(" "),t("FormItem",{staticStyle:{position:"absolute",left:"50%",transform:"translateX(-60%)"}},[t("Button",{attrs:{type:"success",long:""},on:{click:function(n){e.handleSubmit("formInline")}}},[e._v("登录")])],1)],1)],1),e._v(" "),t("Modal",{attrs:{title:"系统提示"},on:{"on-ok":e.ok,"on-cancel":e.cancel},model:{value:e.comfirm,callback:function(n){e.comfirm=n},expression:"comfirm"}},[t("p",[e._v("系统检测到您已登录，是否跳转到管理界面")])])],1)},i=[];a._withStripped=!0;var l={render:a,staticRenderFns:i},c=l,m=!1,u=t("VU/8"),p=o,f=u(s,c,!1,p,null,null);f.options.__file="page/login/login.vue";var d=f.exports,h=t("7mrO"),g=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};n.default=h.a.init(g({},d))}},["wMPN"]);